{#
/**
 * @file
 * Theme override for a local task link.
 *
 * Available variables:
 * - attributes: HTML attributes for the wrapper element.
 * - is_active: Whether the task item is an active tab.
 * - link: A rendered link element.
 *
 * Note: This template renders the content for each task item in
 * menu-local-tasks.html.twig.
 *
 * @see template_preprocess_menu_local_task()
 */
#}
{%
  set link_classes = [
    is_active ? 'is-active' : '',
    'tabs__link',
    'tabs__link--local-tasks'
  ]
%}
{% set tabs__base_class = 'tabs' %}
{% set tab__base_class = 'link' %}
{% set tab_modifiers = tab_modifiers|default(['local-tasks']) %}

{% if key == 0 %}
  {% set tab_modifiers = tab_modifiers|merge([' is-active']) %}
{% endif %}

<li{{attributes}}>
  {% if attributes and link['#url'] %}
    {{ link(link['#title'], link['#url'], { 'class' : link_classes }) }}
  {% else %}
    <a href="{{ tab_link }}" {{ bem(tab__base_class, tab_modifiers, tabs__base_class) }}>
      {{ tab_text }}
    </a>
  {% endif %}
</li>
